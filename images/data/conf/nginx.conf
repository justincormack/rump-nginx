worker_processes 1;
error_log stderr;
pid /tmp/nginx.pid;
user daemon daemon;
daemon off;
master_process off;

events {
    worker_connections 128;
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    log_format    main  '$remote_addr - $remote_user [$time_local] "$request" '
                        '$status $body_bytes_sent "$http_referer" '
                        '"$http_user_agent" "$http_x_forwarded_for"';
    access_log    /tmp/access.log main;

    server {
        listen       80;
        server_name  localhost;

        location /static {
            root   /data/www;
        }

        location / {
            fastcgi_pass   10.9.1.201:8000;
            fastcgi_index  index.php;
            fastcgi_keep_conn on;
         
            fastcgi_param  SCRIPT_FILENAME  /data/www/$fastcgi_script_name;
            fastcgi_param  QUERY_STRING     $query_string;
            fastcgi_param  REQUEST_METHOD   $request_method;
            fastcgi_param  CONTENT_TYPE     $content_type;
            fastcgi_param  CONTENT_LENGTH   $content_length;
        }
    }
}
